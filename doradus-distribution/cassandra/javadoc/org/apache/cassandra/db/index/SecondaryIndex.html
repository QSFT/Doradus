<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Fri Apr 18 11:42:22 PDT 2014 -->
<title>SecondaryIndex (apache-cassandra API)</title>
<meta name="date" content="2014-04-18">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SecondaryIndex (apache-cassandra API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SecondaryIndex.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/cassandra/db/index/PerRowSecondaryIndex.html" title="class in org.apache.cassandra.db.index"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndexBuilder.html" title="class in org.apache.cassandra.db.index"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/cassandra/db/index/SecondaryIndex.html" target="_top">Frames</a></li>
<li><a href="SecondaryIndex.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.cassandra.db.index</div>
<h2 title="Class SecondaryIndex" class="title">Class SecondaryIndex</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.cassandra.db.index.SecondaryIndex</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/apache/cassandra/db/index/PerColumnSecondaryIndex.html" title="class in org.apache.cassandra.db.index">PerColumnSecondaryIndex</a>, <a href="../../../../../org/apache/cassandra/db/index/PerRowSecondaryIndex.html" title="class in org.apache.cassandra.db.index">PerRowSecondaryIndex</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">SecondaryIndex</span>
extends java.lang.Object</pre>
<div class="block">Abstract base class for different types of secondary indexes.

 Do not extend this directly, please pick from PerColumnSecondaryIndex or PerRowSecondaryIndex</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#baseCfs">baseCfs</a></strong></code>
<div class="block">Base CF that has many indexes</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.Set&lt;<a href="../../../../../org/apache/cassandra/config/ColumnDefinition.html" title="class in org.apache.cassandra.config">ColumnDefinition</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#columnDefs">columnDefs</a></strong></code>
<div class="block">The column definitions which this index is responsible for</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#CUSTOM_INDEX_OPTION_NAME">CUSTOM_INDEX_OPTION_NAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/marshal/AbstractType.html" title="class in org.apache.cassandra.db.marshal">AbstractType</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#keyComparator">keyComparator</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.slf4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#logger">logger</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#SecondaryIndex()">SecondaryIndex</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.concurrent.Future&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#buildIndexAsync()">buildIndexAsync</a></strong>()</code>
<div class="block">Builds the index using the data in the underlying CF, non blocking</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#buildIndexBlocking()">buildIndexBlocking</a></strong>()</code>
<div class="block">Builds the index using the data in the underlying CFS
 Blocks till it's complete</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html" title="class in org.apache.cassandra.db.index">SecondaryIndex</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#createInstance(org.apache.cassandra.db.ColumnFamilyStore, org.apache.cassandra.config.ColumnDefinition)">createInstance</a></strong>(<a href="../../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;baseCfs,
              <a href="../../../../../org/apache/cassandra/config/ColumnDefinition.html" title="class in org.apache.cassandra.config">ColumnDefinition</a>&nbsp;cdef)</code>
<div class="block">This is the primary way to create a secondary index instance for a CF column.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../org/apache/cassandra/db/index/SecondaryIndexSearcher.html" title="class in org.apache.cassandra.db.index">SecondaryIndexSearcher</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#createSecondaryIndexSearcher(java.util.Set)">createSecondaryIndexSearcher</a></strong>(java.util.Set&lt;java.nio.ByteBuffer&gt;&nbsp;columns)</code>
<div class="block">Called at query time
 Creates a implementation specific searcher instance for this index type</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#forceBlockingFlush()">forceBlockingFlush</a></strong>()</code>
<div class="block">Forces this indexes in memory data to disk</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#getBaseCfs()">getBaseCfs</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../../org/apache/cassandra/config/ColumnDefinition.html" title="class in org.apache.cassandra.config">ColumnDefinition</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#getColumnDefs()">getColumnDefs</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#getIndexCfs()">getIndexCfs</a></strong>()</code>
<div class="block">Allow access to the underlying column family store if there is one</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/marshal/AbstractType.html" title="class in org.apache.cassandra.db.marshal">AbstractType</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#getIndexComparator(org.apache.cassandra.config.CFMetaData, org.apache.cassandra.config.ColumnDefinition)">getIndexComparator</a></strong>(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;baseMetadata,
                  <a href="../../../../../org/apache/cassandra/config/ColumnDefinition.html" title="class in org.apache.cassandra.config">ColumnDefinition</a>&nbsp;cdef)</code>
<div class="block">Returns the index comparator for index backed by CFS, or null.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#getIndexKeyFor(java.nio.ByteBuffer)">getIndexKeyFor</a></strong>(java.nio.ByteBuffer&nbsp;value)</code>
<div class="block">Returns the decoratedKey for a column value</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#getIndexName()">getIndexName</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#getLiveSize()">getLiveSize</a></strong>()</code>
<div class="block">Get current amount of memory this index is consuming (in bytes)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#getNameForSystemKeyspace(java.nio.ByteBuffer)">getNameForSystemKeyspace</a></strong>(java.nio.ByteBuffer&nbsp;columnName)</code>
<div class="block">Return the unique name for this index and column
 to be stored in the SystemKeyspace that tracks if each column is built</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#indexes(java.nio.ByteBuffer)">indexes</a></strong>(java.nio.ByteBuffer&nbsp;name)</code>
<div class="block">Returns true if the provided column name is indexed by this secondary index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#init()">init</a></strong>()</code>
<div class="block">Perform any initialization work</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#invalidate()">invalidate</a></strong>()</code>
<div class="block">Remove the index and unregisters this index's mbean if one exists</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#isIndexBuilt(java.nio.ByteBuffer)">isIndexBuilt</a></strong>(java.nio.ByteBuffer&nbsp;columnName)</code>
<div class="block">Checks if the index for specified column is fully built</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#reload()">reload</a></strong>()</code>
<div class="block">Reload an existing index following a change to its configuration,
 or that of the indexed column(s).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#removeIndex(java.nio.ByteBuffer)">removeIndex</a></strong>(java.nio.ByteBuffer&nbsp;columnName)</code>
<div class="block">Delete all files and references to this index</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#setIndexBuilt()">setIndexBuilt</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#setIndexRemoved()">setIndexRemoved</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#truncateBlocking(long)">truncateBlocking</a></strong>(long&nbsp;truncatedAt)</code>
<div class="block">Truncate all the data from the current index</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#validate(org.apache.cassandra.db.Column)">validate</a></strong>(<a href="../../../../../org/apache/cassandra/db/Column.html" title="class in org.apache.cassandra.db">Column</a>&nbsp;column)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html#validateOptions()">validateOptions</a></strong>()</code>
<div class="block">Validates the index_options passed in the ColumnDef</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>protected static final&nbsp;org.slf4j.Logger logger</pre>
</li>
</ul>
<a name="CUSTOM_INDEX_OPTION_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CUSTOM_INDEX_OPTION_NAME</h4>
<pre>public static final&nbsp;java.lang.String CUSTOM_INDEX_OPTION_NAME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.cassandra.db.index.SecondaryIndex.CUSTOM_INDEX_OPTION_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="keyComparator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyComparator</h4>
<pre>public static final&nbsp;<a href="../../../../../org/apache/cassandra/db/marshal/AbstractType.html" title="class in org.apache.cassandra.db.marshal">AbstractType</a>&lt;?&gt; keyComparator</pre>
</li>
</ul>
<a name="baseCfs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>baseCfs</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a> baseCfs</pre>
<div class="block">Base CF that has many indexes</div>
</li>
</ul>
<a name="columnDefs">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>columnDefs</h4>
<pre>protected final&nbsp;java.util.Set&lt;<a href="../../../../../org/apache/cassandra/config/ColumnDefinition.html" title="class in org.apache.cassandra.config">ColumnDefinition</a>&gt; columnDefs</pre>
<div class="block">The column definitions which this index is responsible for</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SecondaryIndex()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SecondaryIndex</h4>
<pre>public&nbsp;SecondaryIndex()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public abstract&nbsp;void&nbsp;init()</pre>
<div class="block">Perform any initialization work</div>
</li>
</ul>
<a name="reload()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reload</h4>
<pre>public abstract&nbsp;void&nbsp;reload()</pre>
<div class="block">Reload an existing index following a change to its configuration,
 or that of the indexed column(s). Differs from init() in that we expect
 expect new resources (such as CFS for a KEYS index) to be created by
 init() but not here</div>
</li>
</ul>
<a name="validateOptions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateOptions</h4>
<pre>public abstract&nbsp;void&nbsp;validateOptions()
                              throws <a href="../../../../../org/apache/cassandra/exceptions/ConfigurationException.html" title="class in org.apache.cassandra.exceptions">ConfigurationException</a></pre>
<div class="block">Validates the index_options passed in the ColumnDef</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/exceptions/ConfigurationException.html" title="class in org.apache.cassandra.exceptions">ConfigurationException</a></code></dd></dl>
</li>
</ul>
<a name="getIndexName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexName</h4>
<pre>public abstract&nbsp;java.lang.String&nbsp;getIndexName()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The name of the index</dd></dl>
</li>
</ul>
<a name="getNameForSystemKeyspace(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNameForSystemKeyspace</h4>
<pre>public abstract&nbsp;java.lang.String&nbsp;getNameForSystemKeyspace(java.nio.ByteBuffer&nbsp;columnName)</pre>
<div class="block">Return the unique name for this index and column
 to be stored in the SystemKeyspace that tracks if each column is built</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>columnName</code> - the name of the column</dd>
<dt><span class="strong">Returns:</span></dt><dd>the unique name</dd></dl>
</li>
</ul>
<a name="isIndexBuilt(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isIndexBuilt</h4>
<pre>public&nbsp;boolean&nbsp;isIndexBuilt(java.nio.ByteBuffer&nbsp;columnName)</pre>
<div class="block">Checks if the index for specified column is fully built</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>columnName</code> - the column</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the index is fully built</dd></dl>
</li>
</ul>
<a name="setIndexBuilt()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIndexBuilt</h4>
<pre>public&nbsp;void&nbsp;setIndexBuilt()</pre>
</li>
</ul>
<a name="setIndexRemoved()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIndexRemoved</h4>
<pre>public&nbsp;void&nbsp;setIndexRemoved()</pre>
</li>
</ul>
<a name="createSecondaryIndexSearcher(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSecondaryIndexSearcher</h4>
<pre>protected abstract&nbsp;<a href="../../../../../org/apache/cassandra/db/index/SecondaryIndexSearcher.html" title="class in org.apache.cassandra.db.index">SecondaryIndexSearcher</a>&nbsp;createSecondaryIndexSearcher(java.util.Set&lt;java.nio.ByteBuffer&gt;&nbsp;columns)</pre>
<div class="block">Called at query time
 Creates a implementation specific searcher instance for this index type</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>columns</code> - the list of columns which belong to this index type</dd>
<dt><span class="strong">Returns:</span></dt><dd>the secondary index search impl</dd></dl>
</li>
</ul>
<a name="forceBlockingFlush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceBlockingFlush</h4>
<pre>public abstract&nbsp;void&nbsp;forceBlockingFlush()</pre>
<div class="block">Forces this indexes in memory data to disk</div>
</li>
</ul>
<a name="getLiveSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLiveSize</h4>
<pre>public abstract&nbsp;long&nbsp;getLiveSize()</pre>
<div class="block">Get current amount of memory this index is consuming (in bytes)</div>
</li>
</ul>
<a name="getIndexCfs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexCfs</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;getIndexCfs()</pre>
<div class="block">Allow access to the underlying column family store if there is one</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the underlying column family store or null</dd></dl>
</li>
</ul>
<a name="removeIndex(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeIndex</h4>
<pre>public abstract&nbsp;void&nbsp;removeIndex(java.nio.ByteBuffer&nbsp;columnName)</pre>
<div class="block">Delete all files and references to this index</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>columnName</code> - the indexed column to remove</dd></dl>
</li>
</ul>
<a name="invalidate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidate</h4>
<pre>public abstract&nbsp;void&nbsp;invalidate()</pre>
<div class="block">Remove the index and unregisters this index's mbean if one exists</div>
</li>
</ul>
<a name="truncateBlocking(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncateBlocking</h4>
<pre>public abstract&nbsp;void&nbsp;truncateBlocking(long&nbsp;truncatedAt)</pre>
<div class="block">Truncate all the data from the current index</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>truncatedAt</code> - The truncation timestamp, all data before that timestamp should be rejected.</dd></dl>
</li>
</ul>
<a name="buildIndexBlocking()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildIndexBlocking</h4>
<pre>protected&nbsp;void&nbsp;buildIndexBlocking()</pre>
<div class="block">Builds the index using the data in the underlying CFS
 Blocks till it's complete</div>
</li>
</ul>
<a name="buildIndexAsync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildIndexAsync</h4>
<pre>public&nbsp;java.util.concurrent.Future&lt;?&gt;&nbsp;buildIndexAsync()</pre>
<div class="block">Builds the index using the data in the underlying CF, non blocking</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A future object which the caller can block on (optional)</dd></dl>
</li>
</ul>
<a name="getBaseCfs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBaseCfs</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;getBaseCfs()</pre>
</li>
</ul>
<a name="getColumnDefs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getColumnDefs</h4>
<pre>public&nbsp;java.util.Set&lt;<a href="../../../../../org/apache/cassandra/config/ColumnDefinition.html" title="class in org.apache.cassandra.config">ColumnDefinition</a>&gt;&nbsp;getColumnDefs()</pre>
</li>
</ul>
<a name="getIndexKeyFor(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexKeyFor</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;getIndexKeyFor(java.nio.ByteBuffer&nbsp;value)</pre>
<div class="block">Returns the decoratedKey for a column value</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>value</code> - column value</dd>
<dt><span class="strong">Returns:</span></dt><dd>decorated key</dd></dl>
</li>
</ul>
<a name="indexes(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexes</h4>
<pre>public&nbsp;boolean&nbsp;indexes(java.nio.ByteBuffer&nbsp;name)</pre>
<div class="block">Returns true if the provided column name is indexed by this secondary index.

 The default implement checks whether the name is one the columnDef name,
 but this should be overriden but subclass if needed.</div>
</li>
</ul>
<a name="createInstance(org.apache.cassandra.db.ColumnFamilyStore, org.apache.cassandra.config.ColumnDefinition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInstance</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/index/SecondaryIndex.html" title="class in org.apache.cassandra.db.index">SecondaryIndex</a>&nbsp;createInstance(<a href="../../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;baseCfs,
                            <a href="../../../../../org/apache/cassandra/config/ColumnDefinition.html" title="class in org.apache.cassandra.config">ColumnDefinition</a>&nbsp;cdef)
                                     throws <a href="../../../../../org/apache/cassandra/exceptions/ConfigurationException.html" title="class in org.apache.cassandra.exceptions">ConfigurationException</a></pre>
<div class="block">This is the primary way to create a secondary index instance for a CF column.
 It will validate the index_options before initializing.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>baseCfs</code> - the source of data for the Index</dd><dd><code>cdef</code> - the meta information about this column (index_type, index_options, name, etc...)</dd>
<dt><span class="strong">Returns:</span></dt><dd>The secondary index instance for this column</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/exceptions/ConfigurationException.html" title="class in org.apache.cassandra.exceptions">ConfigurationException</a></code></dd></dl>
</li>
</ul>
<a name="validate(org.apache.cassandra.db.Column)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>public abstract&nbsp;boolean&nbsp;validate(<a href="../../../../../org/apache/cassandra/db/Column.html" title="class in org.apache.cassandra.db">Column</a>&nbsp;column)</pre>
</li>
</ul>
<a name="getIndexComparator(org.apache.cassandra.config.CFMetaData, org.apache.cassandra.config.ColumnDefinition)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getIndexComparator</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/marshal/AbstractType.html" title="class in org.apache.cassandra.db.marshal">AbstractType</a>&lt;?&gt;&nbsp;getIndexComparator(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;baseMetadata,
                                 <a href="../../../../../org/apache/cassandra/config/ColumnDefinition.html" title="class in org.apache.cassandra.config">ColumnDefinition</a>&nbsp;cdef)</pre>
<div class="block">Returns the index comparator for index backed by CFS, or null.

 Note: it would be cleaner to have this be a member method. However we need this when opening indexes
 sstables, but by then the CFS won't be fully initiated, so the SecondaryIndex object won't be accessible.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SecondaryIndex.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/cassandra/db/index/PerRowSecondaryIndex.html" title="class in org.apache.cassandra.db.index"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/cassandra/db/index/SecondaryIndexBuilder.html" title="class in org.apache.cassandra.db.index"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/cassandra/db/index/SecondaryIndex.html" target="_top">Frames</a></li>
<li><a href="SecondaryIndex.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2014 The Apache Software Foundation</small></p>
</body>
</html>
