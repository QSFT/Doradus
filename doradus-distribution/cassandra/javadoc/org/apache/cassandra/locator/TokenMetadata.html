<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Fri Apr 18 11:42:30 PDT 2014 -->
<title>TokenMetadata (apache-cassandra API)</title>
<meta name="date" content="2014-04-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TokenMetadata (apache-cassandra API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenMetadata.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/cassandra/locator/SnitchProperties.html" title="class in org.apache.cassandra.locator"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/cassandra/locator/TokenMetadata.Topology.html" title="class in org.apache.cassandra.locator"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/cassandra/locator/TokenMetadata.html" target="_top">Frames</a></li>
<li><a href="TokenMetadata.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.cassandra.locator</div>
<h2 title="Class TokenMetadata" class="title">Class TokenMetadata</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.cassandra.locator.TokenMetadata</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TokenMetadata</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.Topology.html" title="class in org.apache.cassandra.locator">TokenMetadata.Topology</a></strong></code>
<div class="block">Tracks the assignment of racks and endpoints in each datacenter for all the "normal" endpoints
 in this TokenMetadata.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#TokenMetadata()">TokenMetadata</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#addBootstrapToken(org.apache.cassandra.dht.Token, java.net.InetAddress)">addBootstrapToken</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                 java.net.InetAddress&nbsp;endpoint)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#addBootstrapTokens(java.util.Collection, java.net.InetAddress)">addBootstrapTokens</a></strong>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens,
                  java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#addLeavingEndpoint(java.net.InetAddress)">addLeavingEndpoint</a></strong>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#addMovingEndpoint(org.apache.cassandra.dht.Token, java.net.InetAddress)">addMovingEndpoint</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                 java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Add a new moving endpoint</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#addRelocatingTokens(java.util.Collection, java.net.InetAddress)">addRelocatingTokens</a></strong>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens,
                   java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Add new relocating ranges (tokens moving from their respective endpoints, to another).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#cachedOnlyTokenMap()">cachedOnlyTokenMap</a></strong>()</code>
<div class="block">Return a cached TokenMetadata with only tokenToEndpointMap, i.e., the same as cloneOnlyTokenMap but
 uses a cached copy that is invalided when the ring changes, so in the common case
 no extra locking is required.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#clearUnsafe()">clearUnsafe</a></strong>()</code>
<div class="block">used by tests</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#cloneAfterAllLeft()">cloneAfterAllLeft</a></strong>()</code>
<div class="block">Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave operations have finished.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#cloneAfterAllSettled()">cloneAfterAllSettled</a></strong>()</code>
<div class="block">Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave, move, and relocate operations have finished.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#cloneOnlyTokenMap()">cloneOnlyTokenMap</a></strong>()</code>
<div class="block">Create a copy of TokenMetadata with only tokenToEndpointMap.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#firstToken(java.util.ArrayList, org.apache.cassandra.dht.Token)">firstToken</a></strong>(java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ring,
          <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#firstTokenIndex(java.util.ArrayList, org.apache.cassandra.dht.Token, boolean)">firstTokenIndex</a></strong>(java.util.ArrayList&nbsp;ring,
               <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start,
               boolean&nbsp;insertMin)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getAllEndpoints()">getAllEndpoints</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/utils/BiMultiValMap.html" title="class in org.apache.cassandra.utils">BiMultiValMap</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getBootstrapTokens()">getBootstrapTokens</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.net.InetAddress</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getEndpoint(org.apache.cassandra.dht.Token)">getEndpoint</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.net.InetAddress</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getEndpointForHostId(java.util.UUID)">getEndpointForHostId</a></strong>(java.util.UUID&nbsp;hostId)</code>
<div class="block">Return the end-point for a unique host ID</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.net.InetAddress,java.util.UUID&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getEndpointToHostIdMapForReading()">getEndpointToHostIdMapForReading</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.google.common.collect.Multimap&lt;java.net.InetAddress,<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getEndpointToTokenMapForReading()">getEndpointToTokenMapForReading</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.UUID</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getHostId(java.net.InetAddress)">getHostId</a></strong>(java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Return the unique host ID for an end-point.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getLeavingEndpoints()">getLeavingEndpoints</a></strong>()</code>
<div class="block">caller should not modify leavingEndpoints</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../org/apache/cassandra/utils/Pair.html" title="class in org.apache.cassandra.utils">Pair</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getMovingEndpoints()">getMovingEndpoints</a></strong>()</code>
<div class="block">Endpoints which are migrating to the new tokens</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getNormalAndBootstrappingTokenToEndpointMap()">getNormalAndBootstrappingTokenToEndpointMap</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;,java.util.Collection&lt;java.net.InetAddress&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPendingRanges(java.lang.String)">getPendingRanges</a></strong>(java.lang.String&nbsp;keyspaceName)</code>
<div class="block">a mutable map may be returned but caller should not modify it</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPendingRanges(java.lang.String, java.net.InetAddress)">getPendingRanges</a></strong>(java.lang.String&nbsp;keyspaceName,
                java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPredecessor(org.apache.cassandra.dht.Token)">getPredecessor</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPrimaryRangeFor(org.apache.cassandra.dht.Token)">getPrimaryRangeFor</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;right)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPrimaryRangesFor(java.util.Collection)">getPrimaryRangesFor</a></strong>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getRelocatingRanges()">getRelocatingRanges</a></strong>()</code>
<div class="block">Ranges which are migrating to new endpoints.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getRingVersion()">getRingVersion</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getSuccessor(org.apache.cassandra.dht.Token)">getSuccessor</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getToken(java.net.InetAddress)">getToken</a></strong>(java.net.InetAddress&nbsp;endpoint)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getTokens(java.net.InetAddress)">getTokens</a></strong>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.Topology.html" title="class in org.apache.cassandra.locator">TokenMetadata.Topology</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getTopology()">getTopology</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getWriteEndpoints(org.apache.cassandra.dht.Token, java.lang.String, java.util.Collection)">getWriteEndpoints</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                 java.lang.String&nbsp;keyspaceName,
                 java.util.Collection&lt;java.net.InetAddress&gt;&nbsp;naturalEndpoints)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>retained for benefit of old tests</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#invalidateCachedRings()">invalidateCachedRings</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#isLeaving(java.net.InetAddress)">isLeaving</a></strong>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#isMember(java.net.InetAddress)">isMember</a></strong>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#isMoving(java.net.InetAddress)">isMoving</a></strong>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#isRelocating(org.apache.cassandra.dht.Token)">isRelocating</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#pendingEndpointsFor(org.apache.cassandra.dht.Token, java.lang.String)">pendingEndpointsFor</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                   java.lang.String&nbsp;keyspaceName)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#pendingRangeChanges(java.net.InetAddress)">pendingRangeChanges</a></strong>(java.net.InetAddress&nbsp;source)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#printPendingRanges()">printPendingRanges</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#printRelocatingRanges()">printRelocatingRanges</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#removeBootstrapTokens(java.util.Collection)">removeBootstrapTokens</a></strong>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#removeEndpoint(java.net.InetAddress)">removeEndpoint</a></strong>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#removeFromMoving(java.net.InetAddress)">removeFromMoving</a></strong>(java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Remove pair of token/address from moving endpoints</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#removeFromRelocating(org.apache.cassandra.dht.Token, java.net.InetAddress)">removeFromRelocating</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                    java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Remove pair of token/address from relocating ranges.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Iterator&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#ringIterator(java.util.ArrayList, org.apache.cassandra.dht.Token, boolean)">ringIterator</a></strong>(java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ring,
            <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start,
            boolean&nbsp;includeMin)</code>
<div class="block">iterator over the Tokens in the given ring, starting with the token for the node owning start
 (which does not have to be a Token in the ring)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#setPendingRanges(java.lang.String, com.google.common.collect.Multimap)">setPendingRanges</a></strong>(java.lang.String&nbsp;keyspaceName,
                com.google.common.collect.Multimap&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;,java.net.InetAddress&gt;&nbsp;rangeMap)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#sortedTokens()">sortedTokens</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateHostId(java.util.UUID, java.net.InetAddress)">updateHostId</a></strong>(java.util.UUID&nbsp;hostId,
            java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Store an end-point to host ID mapping.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateNormalToken(org.apache.cassandra.dht.Token, java.net.InetAddress)">updateNormalToken</a></strong>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                 java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Update token map with a single token/endpoint pair in normal state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateNormalTokens(java.util.Collection, java.net.InetAddress)">updateNormalTokens</a></strong>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens,
                  java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateNormalTokens(com.google.common.collect.Multimap)">updateNormalTokens</a></strong>(com.google.common.collect.Multimap&lt;java.net.InetAddress,<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;endpointTokens)</code>
<div class="block">Update token map with a set of token/endpoint pairs in normal state.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TokenMetadata()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TokenMetadata</h4>
<pre>public&nbsp;TokenMetadata()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="pendingRangeChanges(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingRangeChanges</h4>
<pre>public&nbsp;int&nbsp;pendingRangeChanges(java.net.InetAddress&nbsp;source)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of nodes bootstrapping into source's primary range</dd></dl>
</li>
</ul>
<a name="updateNormalToken(org.apache.cassandra.dht.Token, java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateNormalToken</h4>
<pre>public&nbsp;void&nbsp;updateNormalToken(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                     java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Update token map with a single token/endpoint pair in normal state.</div>
</li>
</ul>
<a name="updateNormalTokens(java.util.Collection, java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateNormalTokens</h4>
<pre>public&nbsp;void&nbsp;updateNormalTokens(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens,
                      java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="updateNormalTokens(com.google.common.collect.Multimap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateNormalTokens</h4>
<pre>public&nbsp;void&nbsp;updateNormalTokens(com.google.common.collect.Multimap&lt;java.net.InetAddress,<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;endpointTokens)</pre>
<div class="block">Update token map with a set of token/endpoint pairs in normal state.

 Prefer this whenever there are multiple pairs to update, as each update (whether a single or multiple)
 is expensive (CASSANDRA-3831).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>endpointTokens</code> - </dd></dl>
</li>
</ul>
<a name="updateHostId(java.util.UUID, java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateHostId</h4>
<pre>public&nbsp;void&nbsp;updateHostId(java.util.UUID&nbsp;hostId,
                java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Store an end-point to host ID mapping.  Each ID must be unique, and
 cannot be changed after the fact.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hostId</code> - </dd><dd><code>endpoint</code> - </dd></dl>
</li>
</ul>
<a name="getHostId(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHostId</h4>
<pre>public&nbsp;java.util.UUID&nbsp;getHostId(java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Return the unique host ID for an end-point.</div>
</li>
</ul>
<a name="getEndpointForHostId(java.util.UUID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndpointForHostId</h4>
<pre>public&nbsp;java.net.InetAddress&nbsp;getEndpointForHostId(java.util.UUID&nbsp;hostId)</pre>
<div class="block">Return the end-point for a unique host ID</div>
</li>
</ul>
<a name="getEndpointToHostIdMapForReading()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndpointToHostIdMapForReading</h4>
<pre>public&nbsp;java.util.Map&lt;java.net.InetAddress,java.util.UUID&gt;&nbsp;getEndpointToHostIdMapForReading()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>a copy of the endpoint-to-id map for read-only operations</dd></dl>
</li>
</ul>
<a name="addBootstrapToken(org.apache.cassandra.dht.Token, java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBootstrapToken</h4>
<pre>@Deprecated
public&nbsp;void&nbsp;addBootstrapToken(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                                java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
</li>
</ul>
<a name="addBootstrapTokens(java.util.Collection, java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBootstrapTokens</h4>
<pre>public&nbsp;void&nbsp;addBootstrapTokens(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens,
                      java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="removeBootstrapTokens(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeBootstrapTokens</h4>
<pre>public&nbsp;void&nbsp;removeBootstrapTokens(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens)</pre>
</li>
</ul>
<a name="addLeavingEndpoint(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLeavingEndpoint</h4>
<pre>public&nbsp;void&nbsp;addLeavingEndpoint(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="addMovingEndpoint(org.apache.cassandra.dht.Token, java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMovingEndpoint</h4>
<pre>public&nbsp;void&nbsp;addMovingEndpoint(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                     java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Add a new moving endpoint</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>token</code> - token which is node moving to</dd><dd><code>endpoint</code> - address of the moving node</dd></dl>
</li>
</ul>
<a name="addRelocatingTokens(java.util.Collection, java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRelocatingTokens</h4>
<pre>public&nbsp;void&nbsp;addRelocatingTokens(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens,
                       java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Add new relocating ranges (tokens moving from their respective endpoints, to another).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tokens</code> - tokens being moved</dd><dd><code>endpoint</code> - destination of moves</dd></dl>
</li>
</ul>
<a name="removeEndpoint(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeEndpoint</h4>
<pre>public&nbsp;void&nbsp;removeEndpoint(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="removeFromMoving(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromMoving</h4>
<pre>public&nbsp;void&nbsp;removeFromMoving(java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Remove pair of token/address from moving endpoints</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>endpoint</code> - address of the moving node</dd></dl>
</li>
</ul>
<a name="removeFromRelocating(org.apache.cassandra.dht.Token, java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromRelocating</h4>
<pre>public&nbsp;void&nbsp;removeFromRelocating(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                        java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Remove pair of token/address from relocating ranges.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>endpoint</code> - </dd></dl>
</li>
</ul>
<a name="getTokens(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokens</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;getTokens(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="getToken(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getToken</h4>
<pre>@Deprecated
public&nbsp;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;getToken(java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
</li>
</ul>
<a name="isMember(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMember</h4>
<pre>public&nbsp;boolean&nbsp;isMember(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="isLeaving(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLeaving</h4>
<pre>public&nbsp;boolean&nbsp;isLeaving(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="isMoving(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMoving</h4>
<pre>public&nbsp;boolean&nbsp;isMoving(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="isRelocating(org.apache.cassandra.dht.Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRelocating</h4>
<pre>public&nbsp;boolean&nbsp;isRelocating(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</pre>
</li>
</ul>
<a name="cloneOnlyTokenMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cloneOnlyTokenMap</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a>&nbsp;cloneOnlyTokenMap()</pre>
<div class="block">Create a copy of TokenMetadata with only tokenToEndpointMap. That is, pending ranges,
 bootstrap tokens and leaving endpoints are not included in the copy.</div>
</li>
</ul>
<a name="cachedOnlyTokenMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cachedOnlyTokenMap</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a>&nbsp;cachedOnlyTokenMap()</pre>
<div class="block">Return a cached TokenMetadata with only tokenToEndpointMap, i.e., the same as cloneOnlyTokenMap but
 uses a cached copy that is invalided when the ring changes, so in the common case
 no extra locking is required.

 Callers must *NOT* mutate the returned metadata object.</div>
</li>
</ul>
<a name="cloneAfterAllLeft()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cloneAfterAllLeft</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a>&nbsp;cloneAfterAllLeft()</pre>
<div class="block">Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave operations have finished.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>new token metadata</dd></dl>
</li>
</ul>
<a name="cloneAfterAllSettled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cloneAfterAllSettled</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a>&nbsp;cloneAfterAllSettled()</pre>
<div class="block">Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave, move, and relocate operations have finished.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>new token metadata</dd></dl>
</li>
</ul>
<a name="getEndpoint(org.apache.cassandra.dht.Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndpoint</h4>
<pre>public&nbsp;java.net.InetAddress&nbsp;getEndpoint(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</pre>
</li>
</ul>
<a name="getPrimaryRangesFor(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrimaryRangesFor</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&gt;&nbsp;getPrimaryRangesFor(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens)</pre>
</li>
</ul>
<a name="getPrimaryRangeFor(org.apache.cassandra.dht.Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrimaryRangeFor</h4>
<pre>@Deprecated
public&nbsp;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;getPrimaryRangeFor(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;right)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
</li>
</ul>
<a name="sortedTokens()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sortedTokens</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;sortedTokens()</pre>
</li>
</ul>
<a name="getPendingRanges(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingRanges</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;,java.util.Collection&lt;java.net.InetAddress&gt;&gt;&nbsp;getPendingRanges(java.lang.String&nbsp;keyspaceName)</pre>
<div class="block">a mutable map may be returned but caller should not modify it</div>
</li>
</ul>
<a name="getPendingRanges(java.lang.String, java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingRanges</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&gt;&nbsp;getPendingRanges(java.lang.String&nbsp;keyspaceName,
                                            java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="setPendingRanges(java.lang.String, com.google.common.collect.Multimap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPendingRanges</h4>
<pre>public&nbsp;void&nbsp;setPendingRanges(java.lang.String&nbsp;keyspaceName,
                    com.google.common.collect.Multimap&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;,java.net.InetAddress&gt;&nbsp;rangeMap)</pre>
</li>
</ul>
<a name="getPredecessor(org.apache.cassandra.dht.Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredecessor</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;getPredecessor(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</pre>
</li>
</ul>
<a name="getSuccessor(org.apache.cassandra.dht.Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSuccessor</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;getSuccessor(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</pre>
</li>
</ul>
<a name="getBootstrapTokens()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBootstrapTokens</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/utils/BiMultiValMap.html" title="class in org.apache.cassandra.utils">BiMultiValMap</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;&nbsp;getBootstrapTokens()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>a copy of the bootstrapping tokens map</dd></dl>
</li>
</ul>
<a name="getAllEndpoints()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllEndpoints</h4>
<pre>public&nbsp;java.util.Set&lt;java.net.InetAddress&gt;&nbsp;getAllEndpoints()</pre>
</li>
</ul>
<a name="getLeavingEndpoints()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeavingEndpoints</h4>
<pre>public&nbsp;java.util.Set&lt;java.net.InetAddress&gt;&nbsp;getLeavingEndpoints()</pre>
<div class="block">caller should not modify leavingEndpoints</div>
</li>
</ul>
<a name="getMovingEndpoints()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMovingEndpoints</h4>
<pre>public&nbsp;java.util.Set&lt;<a href="../../../../org/apache/cassandra/utils/Pair.html" title="class in org.apache.cassandra.utils">Pair</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;&gt;&nbsp;getMovingEndpoints()</pre>
<div class="block">Endpoints which are migrating to the new tokens</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>set of addresses of moving endpoints</dd></dl>
</li>
</ul>
<a name="getRelocatingRanges()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRelocatingRanges</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;&nbsp;getRelocatingRanges()</pre>
<div class="block">Ranges which are migrating to new endpoints.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>set of token-address pairs of relocating ranges</dd></dl>
</li>
</ul>
<a name="firstTokenIndex(java.util.ArrayList, org.apache.cassandra.dht.Token, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>firstTokenIndex</h4>
<pre>public static&nbsp;int&nbsp;firstTokenIndex(java.util.ArrayList&nbsp;ring,
                  <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start,
                  boolean&nbsp;insertMin)</pre>
</li>
</ul>
<a name="firstToken(java.util.ArrayList, org.apache.cassandra.dht.Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>firstToken</h4>
<pre>public static&nbsp;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;firstToken(java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ring,
               <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start)</pre>
</li>
</ul>
<a name="ringIterator(java.util.ArrayList, org.apache.cassandra.dht.Token, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ringIterator</h4>
<pre>public static&nbsp;java.util.Iterator&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ringIterator(java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ring,
                                     <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start,
                                     boolean&nbsp;includeMin)</pre>
<div class="block">iterator over the Tokens in the given ring, starting with the token for the node owning start
 (which does not have to be a Token in the ring)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>includeMin</code> - True if the minimum token should be returned in the ring even if it has no owner.</dd></dl>
</li>
</ul>
<a name="clearUnsafe()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearUnsafe</h4>
<pre>public&nbsp;void&nbsp;clearUnsafe()</pre>
<div class="block">used by tests</div>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="printPendingRanges()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printPendingRanges</h4>
<pre>public&nbsp;java.lang.String&nbsp;printPendingRanges()</pre>
</li>
</ul>
<a name="printRelocatingRanges()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printRelocatingRanges</h4>
<pre>public&nbsp;java.lang.String&nbsp;printRelocatingRanges()</pre>
</li>
</ul>
<a name="pendingEndpointsFor(org.apache.cassandra.dht.Token, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingEndpointsFor</h4>
<pre>public&nbsp;java.util.Collection&lt;java.net.InetAddress&gt;&nbsp;pendingEndpointsFor(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                                                             java.lang.String&nbsp;keyspaceName)</pre>
</li>
</ul>
<a name="getWriteEndpoints(org.apache.cassandra.dht.Token, java.lang.String, java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteEndpoints</h4>
<pre>public&nbsp;java.util.Collection&lt;java.net.InetAddress&gt;&nbsp;getWriteEndpoints(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                                                           java.lang.String&nbsp;keyspaceName,
                                                           java.util.Collection&lt;java.net.InetAddress&gt;&nbsp;naturalEndpoints)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>retained for benefit of old tests</i></div>
</li>
</ul>
<a name="getEndpointToTokenMapForReading()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndpointToTokenMapForReading</h4>
<pre>public&nbsp;com.google.common.collect.Multimap&lt;java.net.InetAddress,<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;getEndpointToTokenMapForReading()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>an endpoint to token multimap representation of tokenToEndpointMap (a copy)</dd></dl>
</li>
</ul>
<a name="getNormalAndBootstrappingTokenToEndpointMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNormalAndBootstrappingTokenToEndpointMap</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;&nbsp;getNormalAndBootstrappingTokenToEndpointMap()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>a (stable copy, won't be modified) Token to Endpoint map for all the normal and bootstrapping nodes
         in the cluster.</dd></dl>
</li>
</ul>
<a name="getTopology()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTopology</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.Topology.html" title="class in org.apache.cassandra.locator">TokenMetadata.Topology</a>&nbsp;getTopology()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the Topology map of nodes to DCs + Racks

 This is only allowed when a copy has been made of TokenMetadata, to avoid concurrent modifications
 when Topology methods are subsequently used by the caller.</dd></dl>
</li>
</ul>
<a name="getRingVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRingVersion</h4>
<pre>public&nbsp;long&nbsp;getRingVersion()</pre>
</li>
</ul>
<a name="invalidateCachedRings()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>invalidateCachedRings</h4>
<pre>public&nbsp;void&nbsp;invalidateCachedRings()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenMetadata.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/cassandra/locator/SnitchProperties.html" title="class in org.apache.cassandra.locator"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/cassandra/locator/TokenMetadata.Topology.html" title="class in org.apache.cassandra.locator"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/cassandra/locator/TokenMetadata.html" target="_top">Frames</a></li>
<li><a href="TokenMetadata.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2014 The Apache Software Foundation</small></p>
</body>
</html>
