<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>Configuring Doradus for Clusters</title>
    <link rel="StyleSheet" href="css/Doradus%20Administration%20-%20v2.3.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="Doradus%20Administration%20-%20v2.3.1.34.html">Doradus Configuration and Operation</a> : <a class="WebWorks_Breadcrumb_Link" href="Doradus%20Administration%20-%20v2.3.1.36.html">Doradus Configuration Files</a> : Configuring Doradus for Clusters</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading_3"><a name="pID0E0ZJ0HA">Configuring Doradus for Clusters</a></div>
      <div class="Normal"><a name="pID0E0YJ0HA">Multiple instances of Cassandra and/or Doradus can be used in the same cluster. As described in the section </a><span class="Hyperlink"><a href="javascript:WWHClickedPopup('Doradus_Administration', 'Doradus%20Administration%20-%20v2.3.1.11.html', '');" title="Deployment Guidelines">Deployment Guidelines</a></span>, a recommended practice is to deploy an instance of both Doradus and Cassandra on each node. Then, each Doradus instance should be configured to contact all Cassandra nodes. This provides load balancing and fault tolerance in case a Cassandra node fails.</div>
      <div class="Normal"><a name="pID0E0XJ0HA">The Cassandra instance(s) to which each Doradus instance connects is defined in the </a><span class="Code_char">dbhost</span> parameter in its <span class="Code_char">doradus.yaml</span> file. This parameter should be set to a comma-separated list of host names or (preferably) IP addresses of Cassandra instance hosts. For example:</div>
      <div class="Code"><a name="pID0E0WJ0HA">dbhost: 10.1.82.146, 10.1.82.147, 10.1.82.148</a></div>
      <div class="Normal"><a name="pID0E0VJ0HA">This example tells the corresponding Doradus instance to use three Cassandra instances. Doradus will distribute connections across these nodes for load balancing.</a></div>
      <div class="Normal"><a name="pID0E0UJ0HA">Note that when Doradus is configured to use the CQL API, all Cassandra nodes will be automatically discovered and used. Therefore, the </a><span class="Code_char">dbhost</span> parameter only needs to list one of the available nodes.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>