<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>Starting a Spider Database</title>
    <link rel="StyleSheet" href="css/Doradus%20Spider%20Database%20-%20v2.4.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="Doradus%20Spider%20Database%20-%20v2.4.1.002.html">Spider Database Overview</a> : Starting a Spider Database</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading_2"><a name="pID0E0DUC0HA">Starting a Spider Database</a></div>
      <div class="Normal"><a name="pID0E0CUC0HA">The Doradus server is configured as a Spider database when the following option is used in the doradus.yaml file:</a></div>
      <div class="Code"><a name="pID0E0BUC0HA">storage_services:</a></div>
      <div class="Code"><a name="pID0E0AUC0HA">    - com.dell.doradus.service.spider.SpiderService</a></div>
      <div class="Normal"><a name="pID0E06TC0HA">When the Doradus server starts, this option initializes the </a><span class="Code_Char">SpiderService</span> and places new applications under the control of the Spider storage service by default. Details of installing and configuring the Doradus server are covered in the <span style="font-weight: bold">Doradus Administration</span> document, but here’s a review of three ways to start Doradus:</div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span style="font-weight: bold"><a name="pID0E05TC0HA">Standalone</a></span>: The Doradus server can be started as a standalone application using the provided Jetty web server to serve the REST API. When Doradus is built using Maven, an example command line from the directory <span class="Code_char">{doradus_home}/doradus-jetty</span> is:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Code" style="margin-left: 54pt"><a name="pID0E04TC0HA">java -cp ./target/classes:./target/dependency/* com.dell.doradus.core.DoradusServer</a></div>
      <div class="Normal" style="margin-left: 36pt"><a name="pID0E03TC0HA">Command line arguments can be added to such as “</a><span class="Code_Char">-restport 5711</span>” to change the REST API port to 5711.</div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span style="font-weight: bold"><a name="pID0E02TC0HA">Tomcat</a></span>: Doradus can use Apache Tomcat to host its REST API. The doradus-tomcat folder provides a README file with instructions.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">
                <span style="font-weight: bold">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span style="font-weight: bold"><a name="pID0E01TC0HA">Windows service</a></span>: Doradus can be started as a Windows service by using the procrun package from Apache Commons. See the Doradus Administration document for details.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span style="font-weight: bold"><a name="pID0E0ZTC0HA">Embedded app</a></span>: Doradus can be embedded in another JVM process. It is started by calling the following method:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Code" style="margin-left: 54pt"><a name="pID0E0YTC0HA">com.dell.doradus.core.DoradusServer.startEmbedded(String[] args, String[] services)</a></div>
      <div class="Normal" style="margin-left: 36pt"><a name="pID0E0XTC0HA">where:</a></div>
      <div class="Bullet_outer" style="margin-left: 54pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">
                <span style="font-family: &quot;Courier New&quot;">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span class="Code_Char"><a name="pID0E0WTC0HA">args</a></span> is the same arguments parameter passed to <span class="Code_Char">main()</span> when started as a console application. For example <span class="Code_Char">{"-restport", "5711"}</span> sets the REST port to 5711.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 54pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">
                <span style="font-family: &quot;Courier New&quot;">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span class="Code_Char"><a name="pID0E0VTC0HA">services</a></span> is the list of Doradus services to initialize. Each string must be the full package name of a service. Required services are automatically included. An embedded application must include at least one storage service. Other services should be included when the corresponding functionality is needed. See the comments in doradus.yaml for a list of the current services.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Normal"><a name="pID0E0UTC0HA">If the Doradus server is configured to use multiple storage services, or if Spider is not the default storage service (the first one listed in doradus.yaml), an application can explicitly choose Spider in its schema by setting the application-level  </a><span class="Code_Char">StorageService</span> option to<span class="Code_Char"> SpiderService</span>. For example, in JSON:</div>
      <div class="Code"><a name="pID0E0TTC0HA">{"Msgs": {</a></div>
      <div class="Code"><span style="color: #3366FF"><a name="pID0E0STC0HA">   "options": {"StorageService": "SpiderService"},</a></span></div>
      <div class="Code"><a name="pID0E0RTC0HA">   ...</a></div>
      <div class="Code"><a name="pID0E0QTC0HA">}</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>