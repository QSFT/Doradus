<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>The Email Sample Application</title>
    <link rel="StyleSheet" href="css/Doradus%20OLAP%20Database%20-%20v2.4.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="Doradus%20OLAP%20Database%20-%20v2.4.1.003.html">OLAP Database Overview</a> : The Email Sample Application</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading_2"><a name="pID0E0UWC0HA">The </a><span class="Code_Char" style="font-size: 12pt">Email</span><span style="font-size: 12pt"> </span>Sample Application</div>
      <div class="Normal"><a name="pID0E0TWC0HA">To illustrate features, a sample OLAP application called </a><span class="Code_Char">Email</span> is used. The <span class="Code_Char">Email </span>application schema is depicted below:</div>
      <div class="Normal"><a name="pID0E0SWC0HA"><img class="Default" src="images/Doradus%20OLAP%20Database%20-%20v2.4.1.006.1.jpg" width="632" height="491" style="display: inline; top: 0pt" alt="" /></a></div>
      <div class="Normal"><a name="pID0E0RWC0HA">The tables in the </a><span class="Code_Char">Email</span> application are used as follows:</div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span class="Code_Char"><a name="pID0E0QWC0HA">Message</a></span>: Holds one object per <span style="font-style: italic">sent</span> email. Each object stores values such as <span class="Code_Char">Size</span> and <span class="Code_Char">SendDate</span> timestamp and links to <span class="Code_Char">Participant</span> objects in three different roles: sender, internal recipient, and external recipient.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span class="Code_Char"><a name="pID0E0PWC0HA">Participant</a></span>: Represents a sender or receiver of the linked <span class="Code_Char">Message</span>. Holds the <span class="Code_Char">ReceiptDate</span> timestamp for that participant and links to identifying <span class="Code_Char">Person</span> and <span class="Code_Char">Address</span> objects.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span class="Code_Char"><a name="pID0E0OWC0HA">Address</a></span>: Stores each participant’s email address, a redundant link to <span class="Code_Char">Person</span>, and a link to a <span class="Code_Char">Domain</span> object.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span class="Code_Char"><a name="pID0E0NWC0HA">Person</a></span>: Stores Directory Server properties such as a <span class="Code_Char">Name</span>, <span class="Code_Char">Department</span>, and <span class="Code_Char">Office</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><span class="Code_Char"><a name="pID0E0MWC0HA">Domain</a></span>: Stores unique domain names such as “yahoo.com”.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Normal"><a name="pID0E0LWC0HA">In the diagram, relationships are represented by their link name pairs with arrows pointing to each link’s </a><span style="font-style: italic">extent</span>. For example, <span class="Code_Char">Sender</span> is a link owned by <span class="Code_Char">Message</span>, pointing to <span class="Code_Char">Participant</span>, and <span class="Code_Char">MessageAsSender</span> is the inverse link of the same relationship. The <span class="Code_Char">Manager</span> and <span class="Code_Char">DirectReports</span> links form a <span style="font-style: italic">reflexive</span> relationship within <span class="Code_Char">Person</span>, representing an org chart.</div>
      <div class="Normal"><span class="Code_Char"><a name="pID0E0KWC0HA">Message</a></span> objects are stored in a shard named <span class="Code_Char">YYYY-MM-DD</span> based on their <span class="Code_Char">SendDate</span>. The related <span class="Code_Char">Participant</span>, <span class="Code_Char">Address</span>, <span class="Code_Char">Person</span>, and <span class="Code_Char">Domain</span> objects are stored in the same shard. This means, for example, that <span class="Code_Char">Person</span> and <span class="Code_Char">Domain</span> objects are replicated to every shard in which they are referenced.</div>
      <div class="Normal"><a name="pID0E0JWC0HA">The schema for the </a><span class="Code_Char">Email</span> application is shown below in XML:</div>
      <div class="Code" style="margin-left: 36pt; text-indent: -18pt"><a name="pID0E0IWC0HA">&lt;application name="</a><span style="color: #3366FF">Email</span>"&gt;</div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0HWC0HA">&lt;key&gt;EmailKey&lt;/key&gt;</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0GWC0HA">&lt;options&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0FWC0HA">&lt;option name="StorageService"&gt;OLAPService&lt;/option&gt;</a></div>
      <div class="Code" style="margin-left: 54pt"><a name="pID0E0EWC0HA">&lt;option name="auto-merge"&gt;1 HOUR&lt;option&gt;</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0DWC0HA">&lt;/options&gt;</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0CWC0HA">&lt;tables&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0BWC0HA">&lt;table name="</a><span style="color: #3366FF">Message</span>"&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0AWC0HA">&lt;fields&gt;</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E06VC0HA">&lt;field name="</a><span style="color: #3366FF">InReplyTo</span>" type="XLINK" table="Message" inverse="Responses" junction="ThreadID"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E05VC0HA">&lt;field name="</a><span style="color: #3366FF">Participants</span>"&gt;</div>
      <div class="Code" style="margin-left: 126pt; text-indent: -18pt"><a name="pID0E04VC0HA">&lt;fields&gt;</a></div>
      <div class="Code" style="margin-left: 144pt; text-indent: -18pt"><a name="pID0E03VC0HA">&lt;field name="</a><span style="color: #3366FF">Sender</span>" type="LINK" table="Participant" inverse="MessageAsSender"/&gt;</div>
      <div class="Code" style="margin-left: 144pt; text-indent: -18pt"><a name="pID0E02VC0HA">&lt;field name="</a><span style="color: #3366FF">Recipients</span>"&gt;</div>
      <div class="Code" style="margin-left: 162pt; text-indent: -18pt"><a name="pID0E01VC0HA">&lt;fields&gt;</a></div>
      <div class="Code" style="margin-left: 180pt; text-indent: -18pt"><a name="pID0E0ZVC0HA">&lt;field name="</a><span style="color: #3366FF">ExternalRecipients</span>" type="LINK" table="Participant" inverse="MessageAsExternalRecipient"/&gt;</div>
      <div class="Code" style="margin-left: 180pt; text-indent: -18pt"><a name="pID0E0YVC0HA">&lt;field name="</a><span style="color: #3366FF">InternalRecipients</span>" type="LINK" table="Participant" inverse="MessageAsInternalRecipient"/&gt;</div>
      <div class="Code" style="margin-left: 162pt; text-indent: -18pt"><a name="pID0E0XVC0HA">&lt;/fields&gt;</a></div>
      <div class="Code" style="margin-left: 144pt; text-indent: -18pt"><a name="pID0E0WVC0HA">&lt;/field&gt;</a></div>
      <div class="Code" style="margin-left: 126pt; text-indent: -18pt"><a name="pID0E0VVC0HA">&lt;/fields&gt;</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0UVC0HA">&lt;/field&gt;</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0TVC0HA">&lt;field name="</a><span style="color: #3366FF">Responses</span>" type="XLINK" table="Message" inverse="InReplyTo" junction="_ID"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0SVC0HA">&lt;field name="</a><span style="color: #3366FF">SendDate</span>" type="TIMESTAMP"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0RVC0HA">&lt;field name="</a><span style="color: #3366FF">Size</span>" type="INTEGER"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0QVC0HA">&lt;field name="</a><span style="color: #3366FF">Subject</span>" type="TEXT"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0PVC0HA">&lt;field name="</a><span style="color: #3366FF">Tags</span>" collection="true" type="TEXT"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0OVC0HA">&lt;field name="</a><span style="color: #3366FF">ThreadID</span>" type="TEXT"/&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0NVC0HA">&lt;/fields&gt;</a></div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0MVC0HA">&lt;aliases&gt;</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0LVC0HA">&lt;alias name="</a><span style="color: #3366FF">$SalesEmails</span>" expression="Sender.Person.WHERE(Department:Sales)"/&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0KVC0HA">&lt;/aliases&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0JVC0HA">&lt;/table&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0IVC0HA">&lt;table name="</a><span style="color: #3366FF">Participant</span>"&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0HVC0HA">&lt;fields&gt;</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0GVC0HA">&lt;field name="</a><span style="color: #3366FF">MessageAddress</span>" type="LINK" table="Address" inverse="Messages"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0FVC0HA">&lt;field name="</a><span style="color: #3366FF">MessageAsExternalRecipient</span>" type="LINK" table="Message" inverse="ExternalRecipients"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0EVC0HA">&lt;field name="</a><span style="color: #3366FF">MessageAsInternalRecipient</span>" type="LINK" table="Message" inverse="InternalRecipients"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0DVC0HA">&lt;field name="</a><span style="color: #3366FF">MessageAsSender</span>" type="LINK" table="Message" inverse="Sender"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0CVC0HA">&lt;field name="</a><span style="color: #3366FF">Person</span>" type="LINK" table="Person" inverse="Messages"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0BVC0HA">&lt;field name="</a><span style="color: #3366FF">ReceiptDate</span>" type="TIMESTAMP"/&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0AVC0HA">&lt;/fields&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E06UC0HA">&lt;/table&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E05UC0HA">&lt;table name="</a><span style="color: #3366FF">Address</span>"&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E04UC0HA">&lt;fields&gt;</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E03UC0HA">&lt;field name="</a><span style="color: #3366FF">Domain</span>" type="LINK" table="Domain" inverse="Addresses"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E02UC0HA">&lt;field name="</a><span style="color: #3366FF">Messages</span>" type="LINK" table="Participant" inverse="MessageAddress"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E01UC0HA">&lt;field name="</a><span style="color: #3366FF">Name</span>" type="TEXT"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0ZUC0HA">&lt;field name="</a><span style="color: #3366FF">Person</span>" type="LINK" table="Person" inverse="MessageAddresses"/&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0YUC0HA">&lt;/fields&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0XUC0HA">&lt;/table&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0WUC0HA">&lt;table name="</a><span style="color: #3366FF">Person</span>"&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0VUC0HA">&lt;fields&gt;</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0UUC0HA">&lt;field name="</a><span style="color: #3366FF">Location</span>"&gt;</div>
      <div class="Code" style="margin-left: 126pt; text-indent: -18pt"><a name="pID0E0TUC0HA">&lt;fields&gt;</a></div>
      <div class="Code" style="margin-left: 144pt; text-indent: -18pt"><a name="pID0E0SUC0HA">&lt;field name="</a><span style="color: #3366FF">Department</span>" type="TEXT"/&gt;</div>
      <div class="Code" style="margin-left: 144pt; text-indent: -18pt"><a name="pID0E0RUC0HA">&lt;field name="</a><span style="color: #3366FF">Office</span>" type="TEXT"/&gt;</div>
      <div class="Code" style="margin-left: 126pt; text-indent: -18pt"><a name="pID0E0QUC0HA">&lt;/fields&gt;</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0PUC0HA">&lt;/field&gt;</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0OUC0HA">&lt;field name="</a><span style="color: #3366FF">DirectReports</span>" type="LINK" table="Person" inverse="Manager"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0NUC0HA">&lt;field name="</a><span style="color: #3366FF">FirstName</span>" type="TEXT"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0MUC0HA">&lt;field name="</a><span style="color: #3366FF">LastName</span>" type="TEXT"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0LUC0HA">&lt;field name="</a><span style="color: #3366FF">Manager</span>" type="LINK" table="Person" inverse="DirectReports"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0KUC0HA">&lt;field name="</a><span style="color: #3366FF">MessageAddresses</span>" type="LINK" table="Address" inverse="Person"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0JUC0HA">&lt;field name="</a><span style="color: #3366FF">Messages</span>" type="LINK" table="Participant" inverse="Person"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0IUC0HA">&lt;field name="</a><span style="color: #3366FF">Name</span>" type="TEXT"/&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0HUC0HA">&lt;/fields&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0GUC0HA">&lt;/table&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0FUC0HA">&lt;table name="</a><span style="color: #3366FF">Domain</span>"&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0EUC0HA">&lt;fields&gt;</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0DUC0HA">&lt;field name="</a><span style="color: #3366FF">Addresses</span>" type="LINK" table="Address" inverse="Domain"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0CUC0HA">&lt;field name="</a><span style="color: #3366FF">IsInternal</span>" type="BOOLEAN"/&gt;</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0BUC0HA">&lt;field name="</a><span style="color: #3366FF">Name</span>" type="TEXT"/&gt;</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0AUC0HA">&lt;/fields&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E06TC0HA">&lt;/table&gt;</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E05TC0HA">&lt;/tables&gt;</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E04TC0HA">&lt;schedules&gt;</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E03TC0HA">&lt;schedule type="data-aging" value="0 0 3 * *"/&gt;</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E02TC0HA">&lt;/schedules&gt;</a></div>
      <div class="Code" style="margin-left: 36pt; text-indent: -18pt"><a name="pID0E01TC0HA">&lt;/application&gt;</a></div>
      <div class="Normal"><a name="pID0E0ZTC0HA">The same schema in JSON is shown below:</a></div>
      <div class="Code"><a name="pID0E0YTC0HA">{"</a><span style="color: #3366FF">Email</span>": {</div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0XTC0HA">"key": "EmailKey",</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0WTC0HA">"options": {</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0VTC0HA">"StorageService": "OLAPService",</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0UTC0HA">"auto-merge": "1 HOUR",</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0TTC0HA">},</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0STC0HA">"tables": {</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0RTC0HA">"</a><span style="color: #3366FF">Message</span>": {</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0QTC0HA">"fields": {</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0PTC0HA">"</a><span style="color: #3366FF">InReplyTo</span>": {"type": "XLINK", "table": "Message", "inverse": "Responses", "junction": "ThreadID"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0OTC0HA">"</a><span style="color: #3366FF">Participants</span>": {</div>
      <div class="Code" style="margin-left: 126pt; text-indent: -18pt"><a name="pID0E0NTC0HA">"fields": {</a></div>
      <div class="Code" style="margin-left: 144pt; text-indent: -18pt"><a name="pID0E0MTC0HA">"</a><span style="color: #3366FF">Sender</span>": {"type": "LINK", "table": "Participant", "inverse": "MessageAsSender"},</div>
      <div class="Code" style="margin-left: 144pt; text-indent: -18pt"><a name="pID0E0LTC0HA">"</a><span style="color: #3366FF">Recipients</span>": {</div>
      <div class="Code" style="margin-left: 162pt; text-indent: -18pt"><a name="pID0E0KTC0HA">"fields": {</a></div>
      <div class="Code" style="margin-left: 180pt; text-indent: -18pt"><a name="pID0E0JTC0HA">"</a><span style="color: #3366FF">ExternalRecipients</span>": {"type": "LINK", "table": "Participant", "inverse": "MessageAsExternalRecipient"},</div>
      <div class="Code" style="margin-left: 180pt; text-indent: -18pt"><a name="pID0E0ITC0HA">"</a><span style="color: #3366FF">InternalRecipients</span>": {"type": "LINK", "table": "Participant", "inverse": "MessageAsInternalRecipient"}</div>
      <div class="Code" style="margin-left: 162pt; text-indent: -18pt"><a name="pID0E0HTC0HA">}</a></div>
      <div class="Code" style="margin-left: 144pt; text-indent: -18pt"><a name="pID0E0GTC0HA">}</a></div>
      <div class="Code" style="margin-left: 126pt; text-indent: -18pt"><a name="pID0E0FTC0HA">}</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0ETC0HA">},</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0DTC0HA">"</a><span style="color: #3366FF">Responses</span>": {"type": "XLINK", "table": "Message", "inverse": "InReplyTo", "junction": "_ID"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0CTC0HA">"</a><span style="color: #3366FF">SendDate</span>": {"type": "TIMESTAMP"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0BTC0HA">"</a><span style="color: #3366FF">Size</span>": {"type": "INTEGER"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0ATC0HA">"</a><span style="color: #3366FF">Subject</span>": {"type": "TEXT"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E06SC0HA">"</a><span style="color: #3366FF">Tags</span>": {"collection": "true", "type": "TEXT"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E05SC0HA">"</a><span style="color: #3366FF">ThreadID</span>": {"type": "TEXT"}</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E04SC0HA">},</a></div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E03SC0HA">"</a><span style="color: #3366FF">aliases</span>": {</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E02SC0HA">"</a><span style="color: #3366FF">$SalesEmails</span>": {"expression": "Sender.Person.WHERE(Department:Sales)"}</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E01SC0HA">}</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0ZSC0HA">},</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0YSC0HA">"</a><span style="color: #3366FF">Participant</span>": {</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0XSC0HA">"fields": {</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0WSC0HA">"</a><span style="color: #3366FF">MessageAddress</span>": {"type": "LINK", "table": "Address", "inverse": "Messages"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0VSC0HA">"</a><span style="color: #3366FF">MessageAsExternalRecipient</span>": {"type": "LINK", "table": "Message", "inverse": "ExternalRecipients"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0USC0HA">"</a><span style="color: #3366FF">MessageAsInternalRecipient</span>": {"type": "LINK", "table": "Message", "inverse": "InternalRecipients"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0TSC0HA">"</a><span style="color: #3366FF">MessageAsSender</span>": {"type": "LINK", "table": "Message", "inverse": "Sender"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0SSC0HA">"</a><span style="color: #3366FF">Person</span>": {"type": "LINK", "table": "Person", "inverse": "Messages"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0RSC0HA">"</a><span style="color: #3366FF">ReceiptDate</span>": {"type": "TIMESTAMP"}</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0QSC0HA">}</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0PSC0HA">},</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0OSC0HA">"</a><span style="color: #3366FF">Address</span>": {</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0NSC0HA">"fields": {</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0MSC0HA">"</a><span style="color: #3366FF">Domain</span>": {"type": "LINK", "table": "Domain", "inverse": "Addresses"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0LSC0HA">"</a><span style="color: #3366FF">Messages</span>": {"type": "LINK", "table": "Participant", "inverse": "MessageAddress"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0KSC0HA">"</a><span style="color: #3366FF">Name</span>": {"type": "TEXT"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0JSC0HA">"</a><span style="color: #3366FF">Person</span>": {"type": "LINK", "table": "Person", "inverse": "MessageAddresses"}</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0ISC0HA">}</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0HSC0HA">},</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0GSC0HA">"</a><span style="color: #3366FF">Person</span>": {</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0FSC0HA">"fields": {</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0ESC0HA">"</a><span style="color: #3366FF">DirectReports</span>": {"type": "LINK", "table": "Person", "inverse": "Manager"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0DSC0HA">"</a><span style="color: #3366FF">FirstName</span>": {"type": "TEXT"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0CSC0HA">"</a><span style="color: #3366FF">LastName</span>": {"type": "TEXT"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0BSC0HA">"</a><span style="color: #3366FF">Location</span>": {</div>
      <div class="Code" style="margin-left: 126pt; text-indent: -18pt"><a name="pID0E0ASC0HA">"fields": {</a></div>
      <div class="Code" style="margin-left: 144pt; text-indent: -18pt"><a name="pID0E06RC0HA">"</a><span style="color: #3366FF">Department</span>": {"type": "TEXT"},</div>
      <div class="Code" style="margin-left: 144pt; text-indent: -18pt"><a name="pID0E05RC0HA">"</a><span style="color: #3366FF">Office</span>": {"type": "TEXT"}</div>
      <div class="Code" style="margin-left: 126pt; text-indent: -18pt"><a name="pID0E04RC0HA">}</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E03RC0HA">},</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E02RC0HA">"</a><span style="color: #3366FF">Manager</span>": {"type": "LINK", "table": "Person", "inverse": "DirectReports"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E01RC0HA">"</a><span style="color: #3366FF">MessageAddresses</span>": {"type": "LINK", "table": "Address", "inverse": "Person"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0ZRC0HA">"</a><span style="color: #3366FF">Messages</span>": {"type": "LINK", "table": "Participant", "inverse": "Person"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0YRC0HA">"</a><span style="color: #3366FF">Name</span>": {"type": "TEXT"}</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0XRC0HA">}</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0WRC0HA">},</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0VRC0HA">"</a><span style="color: #3366FF">Domain</span>": {</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0URC0HA">"fields": {</a></div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0TRC0HA">"</a><span style="color: #3366FF">Addresses</span>": {"type": "LINK", "table": "Address", "inverse": "Domain"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0SRC0HA">"</a><span style="color: #3366FF">IsInternal</span>": {"type": "BOOLEAN"},</div>
      <div class="Code" style="margin-left: 108pt; text-indent: -18pt"><a name="pID0E0RRC0HA">"</a><span style="color: #3366FF">Name</span>": {"type": "TEXT"}</div>
      <div class="Code" style="margin-left: 90pt; text-indent: -18pt"><a name="pID0E0QRC0HA">}</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0PRC0HA">}</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0ORC0HA">},</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0NRC0HA">"schedules": [</a></div>
      <div class="Code" style="margin-left: 72pt; text-indent: -18pt"><a name="pID0E0MRC0HA">{"schedule": {"type": "data-aging", "value": "0 0 3 * *"}}</a></div>
      <div class="Code" style="margin-left: 54pt; text-indent: -18pt"><a name="pID0E0LRC0HA">]</a></div>
      <div class="Code"><a name="pID0E0KRC0HA">}}</a></div>
      <div class="Normal"><a name="pID0E0JRC0HA">Some highlights of this schema:</a></div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><a name="pID0E0IRC0HA">The application-level option </a><span class="Code_Char">StorageService</span> explicitly assigns the application to the <span class="Code_Char">OLAPService</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><a name="pID0E0HRC0HA">The </a><span class="Code_Char">auto-merge</span> option schedules a background task to check all shards and automatically merge any new data every hour.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><a name="pID0E0GRC0HA">The </a><span class="Code_Char">Message</span> table contains a group field called <span class="Code_Char">Participants</span>, which contains the link field <span class="Code_Char">Sender</span> and a second-level group called <span class="Code_Char">Recipients</span>, which contains the links <span class="Code_Char">InternalRecipients</span> and <span class="Code_Char">ExternalRecipients</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><a name="pID0E0FRC0HA">The </a><span class="Code_Char">Message</span> table contains a reflexive, cross-shard relationship formed by the xlinks <span class="Code_Char">InReplyTo</span> and <span class="Code_Char">Responses</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><a name="pID0E0ERC0HA">The </a><span class="Code_Char">Message</span> table defines an alias called <span class="Code_Char">$SalesEmails</span>, which is assigned the expression <span class="Code_Char">Sender.Person.WHERE(Department:Sales)</span>. <span class="Code_Char">$SalesEmails</span> is dynamically expanded when used in DQL queries.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_outer" style="margin-left: 18pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_inner" style="width: 18pt; white-space: nowrap">•	</div>
            </td>
            <td width="100%">
              <div class="Bullet_inner"><a name="pID0E0DRC0HA">The application defines a </a><span class="Code_Char">data-aging</span> task, assigning its schedule the cron expression "<span style="color: #595959; font-family: &quot;Courier New&quot;; font-size: 9pt">0 3 * * *</span>", which means “every day at 03:00".</div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>