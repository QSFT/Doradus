<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>Metric Expressions</title>
    <link rel="StyleSheet" href="css/Doradus%20OLAP%20Database%20-%20v2.3.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="Doradus%20OLAP%20Database%20-%20v2.3.1.074.html">OLAP Aggregate Queries</a> : <a class="WebWorks_Breadcrumb_Link" href="Doradus%20OLAP%20Database%20-%20v2.3.1.076.html">Metric Parameter</a> : Metric Expressions</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading_3"><a name="pID0E0YNB0HA">Metric Expressions</a></div>
      <div class="Normal"><a name="pID0E0XNB0HA">Doradus OLAP allows the metric parameter to be a list of </a><span style="font-style: italic">metric expressions</span>. A metric expression is a set of one or more algebraic clauses containing metric functions, constants, and the <span class="Code_Char">DATEDIFF</span> function. Multiple clauses are combined with basic math operators (<span class="Code_Char">+</span>, <span class="Code_Char">-</span>, <span class="Code_Char">*</span>, and <span class="Code_Char">/</span>) and parentheses. This allows arbitrary calculations to be performed for selected objects. Examples of metric expressions are shown below:</div>
      <div class="Code"><a name="pID0E0WNB0HA">MAX(Size) + COUNT(InternalRecipients.Person.Domain)</a></div>
      <div class="Code"><a name="pID0E0VNB0HA">&nbsp;</a></div>
      <div class="Code"><a name="pID0E0UNB0HA">COUNT(*) * 2</a></div>
      <div class="Code"><a name="pID0E0TNB0HA">&nbsp;</a></div>
      <div class="Code"><a name="pID0E0SNB0HA">SUM(Size) / COUNT(Sender.Person.MessageAddresses) / (DATEDIFF(DAY, "2013-11-01", NOW(PST)) + 1)</a></div>
      <div class="Normal"><a name="pID0E0RNB0HA">As with metric functions, metric expressions can be used in global and grouped aggregate queries. Multiple metric expressions can be computed in a single aggregate query. Each metric expression compute a value for each group. Computations are performed as integers or floating-point values as necessary. When a metric expression attempts to divide by 0, the metric value is returned as “Infinity”. Parentheses override default operator evaluation precedence in the usual manner. Calculations are performed across all objects or for each group when a grouping parameter is provided.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>